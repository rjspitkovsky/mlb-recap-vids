<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MLB--No Spoilers!</title>
  </head>
  <body>
    <header>
      Welcome to No Spoiler MLB vids!
    </header>

    <div class="game">
      <button>Click me</button>
    </div>

    <div id="games">

    </div>
  </body>
</html>

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.min.js"></script>
<script type="text/javascript">
  $(function () {
    $('.game').on('click', function(event) {
      event.preventDefault()
      $.get("http://statsapi.mlb.com/api/v1/schedule/games/?sportId=1", function(data) {
        const template = Handlebars.compile(document.getElementById("game-info").innerHTML)
        const result = template(data.dates)
        console.log(data.dates[0].games)
        document.getElementById("games").innerHTML = result
      })
    })
  })
</script>

<script id="game-info" type="text/x-handlebars-template">
    <section display="center">
      {{#each this}}
      <h1>{{date}}</h1>
        {{#each games}}
        <h2>{{teams.away.team.name}}</h2>
        <h3>vs.</h3>
        <h2>{{teams.home.team.name}}</h3>
          {{/each}}
      {{/each}}
    </section>

</script>
